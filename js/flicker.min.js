"use strict";Rocket.defaults.flicker={targets:".mod-flicker",animation:"transformslide",arrows:!0,arrowsConstraint:!1,autoFlick:!0,autoFlickDelay:10,dotAlignment:"center",dots:!0,pauseOnHover:!1,position:1},Rocket.flicker=function(){function e(e){var o=void 0;if(Rocket.is.element(e)){var i=t(e);return i.autoFlickWatch=void 0,y.autoStart(i),Rocket.event.add(i.arrows.left,"click",function(){y.move({flicker:i,newPosition:"previous"})}),Rocket.event.add(i.arrows.right,"click",function(){y.move({flicker:i,newPosition:"next"})}),Rocket.event.add(i.dots.querySelectorAll("li"),"click",function(e){y.move({flicker:i,newPosition:Rocket.get.index(e.currentTarget)+1})}),f&&w&&(Rocket.event.add(i.container,"mouseover",function(){y.autoStop(i),o&&clearTimeout(o)}),Rocket.event.add(i.container,"mouseleave",function(){o=setTimeout(function(){y.move({flicker:i,newPosition:"next"}),y.autoStart(i)},500)})),{flicker:i.container,move:function(e){y.move({flicker:i,newPosition:e})},start:function(){y.move({flicker:i,newPosition:"next"}),y.autoStart(i)},stop:function(){o&&clearTimeout(o),y.autoStop(i)}}}}function t(e){var t={arrows:{},container:e,dots:{},endPosX:0,flickerWidth:0,inner:e.querySelector("ul"),items:e.querySelectorAll("li"),lastPosXLeft:0,lastPosXPercent:0,panCSS:"translate3d(0, 0, 0)",panThreshold:100,position:S,posX:0};return Rocket.classes.add(t.container,["mod-flicker","_animation-"+a]),Rocket.classes.add(e.querySelector("ul"),["mod-flicker-inner"]),t.items.forEach(function(e,o){var i=e.getAttribute("data-background");i&&(e.style.backgroundImage="url("+i+")"),o===t.position-1&&Rocket.state.add(e,"active")}),"scrollerslide"!=a&&(!0===s&&(t.arrows={left:t.container.appendChild(P.arrow("left")),right:t.container.appendChild(P.arrow("right"))}),!0===h&&(t.dots=t.container.appendChild(P.dots(t.items.length)))),t}var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=o.targets,n=void 0===i?Rocket.defaults.flicker.targets:i,r=o.animation,a=void 0===r?Rocket.defaults.flicker.animation:r,c=o.arrows,s=void 0===c?Rocket.defaults.flicker.arrows:c,l=o.arrowsConstraint,d=void 0===l?Rocket.defaults.flicker.arrowsConstraint:l,u=o.autoFlick,f=void 0===u?Rocket.defaults.flicker.autoFlick:u,k=o.autoFlickDelay,m=void 0===k?Rocket.defaults.flicker.autoFlickDelay:k,v=o.dotAlignment,p=(void 0===v&&Rocket.defaults.flicker.dotAlignment,o.dots),h=void 0===p?Rocket.defaults.flicker.dots:p,R=o.pauseOnHover,w=void 0===R?Rocket.defaults.flicker.pauseOnHover:R,g=o.position,S=void 0===g?Rocket.defaults.flicker.position:g,y={autoStart:function(e){e.autoFlickWatch&&clearTimeout(e.autoFlickWatch),e.autoFlickWatch=setTimeout(function(){y.move({flicker:e,newPosition:"next"})},Rocket.milliseconds.seconds(m))},autoStop:function(e){clearTimeout(e.autoFlickWatch)},move:function(e){var t=e.flicker,o=e.newPosition,i=t.items.length;switch(f&&m&&y.autoStart(t),o){case"next":t.position<i?t.position++:d||(t.position=1);break;case"previous":t.position>1?t.position--:d||(t.position=i);break;default:if(!Rocket.is.integer(o))return;t.position=o<1?1:o>i?i:o}var n=t.position-1;switch(a){case"transformslide":var r="translate3d(-"+n+"00%, 0, 0)";t.inner.setAttribute("style","-webkit-transform: "+r+"; -moz-transform: "+r+"; transform: "+r);break;case"transitionfade":Rocket.state.clear(t.inner.querySelector("li.is-active")),Rocket.state.add(t.inner.querySelector("li:nth-child("+t.position+")"),"active");break;case"transitionslide":t.inner.style.left="-"+n+"00%",t.lastPosXLeft=-(n+"00")}"scrollerslide"!==a&&h&&(Rocket.state.clear(t.dots.querySelector(".is-active")),Rocket.state.add(t.dots.querySelector("li:nth-child("+t.position+") .mod-flicker-dot"),"active"))}},P={arrow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"left",t=document.createElement("div");return t.className="mod-flicker-arrow _side-"+e,t},dots:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=document.createElement("div"),o=document.createElement("ul");t.className="mod-flicker-dots";for(var i=0;i<e;i++){var n=document.createElement("li"),r=document.createElement("div");r.className="mod-flicker-dot"+(0===i?" is-active":""),n.appendChild(r),o.appendChild(n)}return t.appendChild(o),t}};return function(){var t=Rocket.dom.select(n);return t.length>0?t.map(function(t){return e(t)}):t}()};